<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸŒ± ì¸ê°„ë°œë‹¬ 12ì°¨ì‹œ ìˆ˜ì—…ì¼ê¸°</title>
    <style>
        :root { --main: #27ae60; --sub: #3498db; }
        body { font-family: 'Pretendard', sans-serif; background: #f0f4f3; padding: 20px; display: flex; justify-content: center; }
        .container { max-width: 500px; width: 100%; background: white; padding: 30px; border-radius: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); }
        h1 { color: var(--main); text-align: center; margin-bottom: 30px; }
        .box { border: 1px solid #eee; padding: 20px; border-radius: 12px; margin-bottom: 25px; }
        label { font-weight: bold; display: block; margin-top: 15px; margin-bottom: 5px; color: #333; }
        input, select, textarea { width: 100%; padding: 12px; margin-bottom: 10px; border-radius: 8px; border: 1px solid #ddd; box-sizing: border-box; font-size: 1rem; }
        /* ì§ˆë¬¸ì´ ë‚˜íƒ€ë‚˜ëŠ” ë°•ìŠ¤ ìŠ¤íƒ€ì¼ */
        .q-display { background: #e8f5e9; padding: 15px; border-radius: 10px; border-left: 5px solid var(--main); font-size: 0.95rem; margin-bottom: 15px; min-height: 40px; color: #2c3e50; font-weight: 500; }
        button { width: 100%; padding: 15px; color: white; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; font-size: 1.1rem; transition: 0.3s; }
        .btn-submit { background: var(--main); margin-bottom: 10px; }
        .btn-view { background: var(--sub); }
        .feedback-card { background: #f9f9f9; padding: 15px; margin-top: 10px; border-radius: 10px; border-left: 4px solid var(--sub); }
        .fb-content { color: #e67e22; font-weight: bold; margin-top: 8px; background: white; padding: 8px; border-radius: 5px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸŒ± ì„±ì¥ ìˆ˜ì—…ì¼ê¸°</h1>

        <div class="box">
            <label>1. í•™ë²ˆ ë° ì´ë¦„</label>
            <input type="text" id="studentId" placeholder="ì˜ˆ: 10101 í™ê¸¸ë™">

            <label>2. ì˜¤ëŠ˜ ë°°ìš´ ì°¨ì‹œ ì„ íƒ</label>
            <select id="lessonSelect" onchange="updateQuestion()">
                <option value="">-- ì°¨ì‹œë¥¼ ì„ íƒí•˜ì„¸ìš” --</option>
                <option value="1">1ì°¨ì‹œ: ë°œë‹¬ì˜ ê°œë…</option>
                <option value="2">2ì°¨ì‹œ: ë°œë‹¬ì˜ íŠ¹ì„±</option>
                <option value="3">3ì°¨ì‹œ: í”¼ì•„ì œ ì¸ì§€ë°œë‹¬(1)</option>
                <option value="4">4ì°¨ì‹œ: í”¼ì•„ì œ ì¸ì§€ë°œë‹¬(2)</option>
                <option value="5">5ì°¨ì‹œ: í”„ë¡œì´íŠ¸ ì„±ê²©ë°œë‹¬</option>
                <option value="6">6ì°¨ì‹œ: ì—ë¦­ìŠ¨ ì‹¬ë¦¬ì‚¬íšŒë°œë‹¬</option>
                <option value="7">7ì°¨ì‹œ: í–‰ë™ì£¼ì˜ & ì‚¬íšŒí•™ìŠµ</option>
                <option value="8">8ì°¨ì‹œ: ì˜ì•„ê¸° ë°œë‹¬ê³¼ ì• ì°©</option>
                <option value="9">9ì°¨ì‹œ: ì •ë³´ì²˜ë¦¬ ì´ë¡ </option>
                <option value="10">10ì°¨ì‹œ: ìœ ì•„/ì•„ë™ê¸° ë°œë‹¬</option>
                <option value="11">11ì°¨ì‹œ: ì²­ì†Œë…„ê¸° ë° ë…¸í™”</option>
                <option value="12">12ì°¨ì‹œ: ë‚˜ì˜ ë°œë‹¬ ë³´ê³ ì„œ</option>
            </select>

            <div id="qDisplay" class="q-display" style="display:none;"></div>

            <label>3. ì¼ê¸° ì‘ì„±</label>
            <textarea id="content" rows="5" placeholder="ìœ„ ì§ˆë¬¸ì— ëŒ€í•œ ìƒê°ì„ ì ì–´ë³´ì„¸ìš”."></textarea>
            
            <button class="btn-submit" onclick="saveData()">ì˜¤ëŠ˜ì˜ ê¸°ë¡ ì œì¶œí•˜ê¸°</button>
        </div>

        <div class="box" style="border-top: 4px solid var(--sub);">
            <h3 style="margin-top:0; color:var(--sub);">ğŸ’¬ ì„ ìƒë‹˜ í”¼ë“œë°± í™•ì¸</h3>
            <button class="btn-view" onclick="loadFeedback()">ë‚´ í”¼ë“œë°± ë¶ˆëŸ¬ì˜¤ê¸°</button>
            <div id="feedbackList"></div>
        </div>
    </div>

    <script>
        const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbyXB79B32vOEyv_EHBtCxC5L1UUkMxRBiwHy1JTS27iNHuuXTIReAXXgXsFFcF0UGRp/exec"; 

        // ê° ì°¨ì‹œë³„ ì§ˆë¬¸ ëª©ë¡ (ë°ì´í„°ë² ì´ìŠ¤ ì—­í• ì„ í•©ë‹ˆë‹¤)
        const topics = {
            "1": "ğŸ’¡ [ë°œë‹¬ì˜ ê°œë…] 1ë…„ ì „ì˜ ë‚˜ì™€ ì§€ê¸ˆì˜ ë‚˜ëŠ” ë¬´ì—‡ì´ ë‹¬ë¼ì¡Œë‚˜ìš”? (í‚¤, ëª¸ë¬´ê²Œ, ìƒê° ë“±)",
            "2": "ğŸ’¡ [ë°œë‹¬ì˜ íŠ¹ì„±] 'ì„¸ ì‚´ ë²„ë¦‡ ì—¬ë“ ê¹Œì§€ ê°„ë‹¤'ëŠ” ë§ì²˜ëŸ¼, ë‚˜ì˜ ì–´ë¦° ì‹œì ˆ ìŠµê´€ì´ ì§€ê¸ˆì˜ ë‚˜ì—ê²Œ ì–´ë–¤ ì˜í–¥ì„ ì£¼ê³  ìˆë‚˜ìš”?",
            "3": "ğŸ’¡ [í”¼ì•„ì œ(1)] ë‹¹ì—°í•˜ë‹¤ê³  ë¯¿ì—ˆë˜ ë‚´ ì§€ì‹ì´ ìƒˆë¡œìš´ ê²½í—˜ì„ í†µí•´ ë°”ë€Œì—ˆë˜ ì ì´ ìˆë‚˜ìš”?",
            "4": "ğŸ’¡ [í”¼ì•„ì œ(2)] ì–´ë¦´ ì  ì¸í˜•ì´ë‚˜ ì‚¬ë¬¼ì´ ì‚´ì•„ìˆë‹¤ê³  ë¯¿ì—ˆê±°ë‚˜, ë‚˜ ì¤‘ì‹¬ìœ¼ë¡œë§Œ ì„¸ìƒì„ ìƒê°í–ˆë˜ ê·€ì—¬ìš´ ì¶”ì–µì€?",
            "5": "ğŸ’¡ [í”„ë¡œì´íŠ¸] ë‚´ ë§ˆìŒì†ì˜ 'í•˜ê³  ì‹¶ì€ ë³¸ëŠ¥'ê³¼ 'ì§€ì¼œì•¼ í•  ë„ë•'ì´ ê°ˆë“±í–ˆë˜ êµ¬ì²´ì ì¸ ìˆœê°„ì€?",
            "6": "ğŸ’¡ [ì—ë¦­ìŠ¨] ë‚˜ëŠ” ì§€ê¸ˆ ì–´ë–¤ ê³ ë¯¼(ë‚˜ì˜ ì •ì²´ì„±, í•™ì—…ì— ëŒ€í•œ ì„±ì‹¤í•¨ ë“±)ì„ ê°€ì¥ ë§ì´ í•˜ë‚˜ìš”?",
            "7": "ğŸ’¡ [í–‰ë™ì£¼ì˜] ë‚˜ëŠ” ì¹­ì°¬ì„ ë“¤ì„ ë•Œ ë” ì˜ìš•ì´ ìƒê¸°ë‚˜ìš”, ì•„ë‹ˆë©´ ì¹œêµ¬ë¥¼ ë”°ë¼ í•  ë•Œ ë” ì˜ ë°°ìš°ë‚˜ìš”?",
            "8": "ğŸ’¡ [ì• ì°©] ë‚´ê°€ ë§ˆìŒì´ í˜ë“¤ ë•Œ ê°€ì¥ ë¨¼ì € ë– ì˜¤ë¥´ê³  ì˜ì§€í•˜ê³  ì‹¶ì€ ì‚¬ëŒ(ì•ˆì „ ê¸°ì§€)ì€ ëˆ„êµ¬ì¸ê°€ìš”?",
            "9": "ğŸ’¡ [ì •ë³´ì²˜ë¦¬] ì‹œí—˜ ê³µë¶€ë¥¼ í•˜ê±°ë‚˜ ë¬´ì–¸ê°€ë¥¼ ì™¸ìš¸ ë•Œ, ë‚˜ë§Œ ì•Œê³  ìˆëŠ” íŠ¹ë³„í•œ ì•”ê¸° ë¹„ë²•ì´ ìˆë‹¤ë©´?",
            "10": "ğŸ’¡ [ìœ ì•„/ì•„ë™ê¸°] ì´ˆë“±í•™êµ ì‹œì ˆ, ì¹œêµ¬ì™€ ê°€ì¥ í–‰ë³µí–ˆë˜ ê¸°ì–µì´ë‚˜ í° ê°ˆë“±ì„ í•´ê²°í–ˆë˜ ê²½í—˜ì„ ì ì–´ë³´ì„¸ìš”.",
            "11": "ğŸ’¡ [ì²­ì†Œë…„/ë…¸í™”] ë‚´ê°€ ê¿ˆê¾¸ëŠ” 20ë…„ ë’¤ ë‚˜ì˜ ëª¨ìŠµì€ ì–´ë–¤ê°€ìš”? ì–´ë–¤ ì–´ë¥¸ì´ ë˜ê³  ì‹¶ë‚˜ìš”?",
            "12": "ğŸ’¡ [ë§ˆë¬´ë¦¬] í•œ í•™ê¸° ë™ì•ˆ ë°œë‹¬ ì´ë¡ ì„ ë°°ìš°ë©° ì„±ì¥í•œ ë‚˜ì—ê²Œ ê°€ì¥ í•´ì£¼ê³  ì‹¶ì€ ì¹­ì°¬ í•œë§ˆë””!"
        };

        // ì´ í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ì–´ì•¼ ì§ˆë¬¸ì´ ë°”ë€ë‹ˆë‹¤!
        function updateQuestion() {
            const selectElement = document.getElementById("lessonSelect");
            const val = selectElement.value; // ì„ íƒëœ ì°¨ì‹œ ë²ˆí˜¸ (1, 2, 3...)
            const display = document.getElementById("qDisplay");

            if(val && topics[val]) {
                display.innerText = topics[val]; // ì„ íƒí•œ ë²ˆí˜¸ì— ë§ëŠ” ì§ˆë¬¸ì„ ê°€ì ¸ì˜´
                display.style.display = "block";
            } else {
                display.style.display = "none";
            }
        }

        // ì €ì¥ ê¸°ëŠ¥ (ì´ì „ê³¼ ë™ì¼)
        function saveData() {
            const studentId = document.getElementById("studentId").value;
            const lesson = document.getElementById("lessonSelect").value;
            const content = document.getElementById("content").value;
            if(!studentId || !lesson || !content) return alert("ë¹ˆì¹¸ì„ ëª¨ë‘ ì±„ì›Œì£¼ì„¸ìš”!");

            fetch(SCRIPT_URL, {
                method: "POST",
                mode: "no-cors",
                body: JSON.stringify({ studentId, lesson, content })
            }).then(() => {
                alert("ì„±ê³µì ìœ¼ë¡œ ì œì¶œë˜ì—ˆìŠµë‹ˆë‹¤!");
                location.reload();
            });
        }

        // í”¼ë“œë°± ë¶ˆëŸ¬ì˜¤ê¸° (ì´ì „ê³¼ ë™ì¼)
        function loadFeedback() {
            const id = document.getElementById("studentId").value;
            if(!id) return alert("í•™ë²ˆê³¼ ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”!");
            const list = document.getElementById("feedbackList");
            list.innerHTML = "ì¡°íšŒ ì¤‘...";
            fetch(`${SCRIPT_URL}?id=${encodeURIComponent(id)}`)
            .then(res => res.json())
            .then(data => {
                list.innerHTML = "";
                if(data.length === 0) list.innerHTML = "<p>ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤.</p>";
                else {
                    data.forEach(item => {
                        list.innerHTML += `
                            <div class="feedback-card">
                                <strong>[${item.lesson}ì°¨ì‹œ ê¸°ë¡]</strong><br>
                                <small>${item.content}</small>
                                <div class="fb-content">ğŸ‘¨â€ğŸ« ì„ ìƒë‹˜: ${item.feedback}</div>
                            </div>`;
                    });
                }
            });
        }
    </script>
</body>
</html>